"use client";

import localFont from "next/font/local";
import "./globals.css";

// import LangToggle from "@/components/LanguageToggle";
import i18next from "i18next";
import global_en from "./Translation/en/global.json";
import global_fr from "./Translation/fr/global.json";
import { I18nextProvider } from "react-i18next";
import FooterBottom from "@/components/FooterBottom";
import GoogleTagManager from "@/components/GoogleTagManager";
import Head from "next/head";
import { usePathname } from "next/navigation";
import { useEffect, useState } from "react";
import SplashScreen from "@/components/SplashScreen";

const myLocalFont = localFont({
  src: [
    {
      path: "../fonts/THICCCBOI-Light.woff2",
      weight: "300",
      style: "normal",
    },
    {
      path: "../fonts/THICCCBOI-Regular.woff2",
      weight: "400",
      style: "normal  ",
    },
    {
      path: "../fonts/THICCCBOI-Medium.woff2",
      weight: "500",
      style: "normal",
    },
    {
      path: "../fonts/THICCCBOI-SemiBold.woff2",
      weight: "600",
      style: "normal",
    },
    {
      path: "../fonts/THICCCBOI-Bold.woff2",
      weight: "700",
      style: "normal",
    },
  ],
});

// export const metadata: Metadata = {
//   title: 'Garista | The Ultimate digital menu solution for restaurants and cafés',
//   description: 'The Ultimate digital menu solution for restaurants and cafés',
// };

i18next.init({
  interpolation: { escapeValue: false },
  lng: "en",
  resources: {
    en: {
      global: global_en,
    },
    fr: {
      global: global_fr,
    },
  },
});

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  const pathname = usePathname();
  const [loadSplashScreen, setLoadSplashScreen] = useState(true);

  useEffect(() => {
    const hash = window.location.hash;
    if (pathname === "/" && !hash) {
      setLoadSplashScreen(true);
    } else {
      setLoadSplashScreen(false);
    }
  }, [pathname]);

  return (
    <I18nextProvider i18n={i18next}>
      <html lang="en">
        <Head>
          <GoogleTagManager containerId="GTM-WHQRVMSC" />
          <link
            rel="shortcut icon"
            href="/Logo/favicon-garista-white_blue.svg"
            type="image/svg"
          />
        </Head>
        <body
          className={`${myLocalFont.className} scroll-smooth relative overflow-x-hidden text-secondaryBg`}
        >
          <noscript>
            <iframe
              src="https://www.googletagmanager.com/ns.html?id=GTM-WHQRVMSC"
              height="0"
              width="0"
              style={{ display: "none", visibility: "hidden" }}
            ></iframe>
          </noscript>
          {loadSplashScreen ? (
            <SplashScreen setLoadSplashScreen={setLoadSplashScreen} />
          ) : (
            children
          )}

          {/* <div className="sm:px-24 px-4 pt-24 bg-white w-full">
              <div className="flex lg:flex-row flex-col flex-wrap lg:justify-between mx-auto items-center gap-y-6 text-sm text-center font-medium mb-8">
                <div className="flex justify-center items-center gap-x-12">
                  <span>Terms of service</span>
                  <span>Privacy policy</span>
                  <span>Legal</span>
                </div>

                <span className="">
                  &copy; 2024 Garista, Inc. All rights reserved.
                </span>
              </div>

              <div className="w-[90%] mx-auto">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="-1095.028 -109.74 1121.278 233.613"
                >
                  <defs>
                    <clipPath id="2ffd611245">
                      <path
                        d="M 2 63 L 192 63 L 192 360.328125 L 2 360.328125 Z M 2 63 "
                        clipRule="nonzero"
                      />
                    </clipPath>
                    <clipPath id="e93e22cbe6">
                      <path
                        d="M 560 6.808594 L 624 6.808594 L 624 71 L 560 71 Z M 560 6.808594 "
                        clipRule="nonzero"
                      />
                    </clipPath>
                  </defs>
                  <g
                    clipPath="url(#2ffd611245)"
                    transform="matrix(1, 0, 0, 1, -1096.870378, -116.102716)"
                  >
                    <path
                      fill="#1d1d1b"
                      d="M 51.773438 280.664062 C 53.523438 307.335938 72.058594 315.746094 95.105469 315.746094 C 118.15625 315.746094 137.753906 305.226562 137.753906 283.8125 C 137.753906 266.972656 126.914062 253.988281 95.816406 253.988281 C 39.179688 253.988281 2.46875 220.304688 2.46875 166.628906 C 2.46875 107.695312 47.554688 78.203125 95.816406 78.203125 C 108.054688 78.203125 125.191406 79.957031 136.359375 87.679688 L 155.25 63.113281 L 191.601562 91.183594 L 169.566406 117.5 C 181.800781 132.234375 188.097656 150.144531 187.386719 167.316406 C 186.675781 191.878906 175.503906 215.046875 150.320312 228.027344 C 188.78125 245.226562 188.78125 273.652344 188.78125 283.8125 C 188.78125 335.378906 142.628906 360.300781 95.105469 360.300781 C 35.320312 360.300781 4.222656 330.476562 4.90625 280.664062 Z M 51.058594 166.628906 C 51.058594 191.550781 70.277344 208.039062 95.816406 208.039062 C 118.539062 208.039062 139.152344 194.34375 139.152344 166.628906 C 139.152344 142.421875 120.976562 123.113281 95.816406 123.113281 C 70.660156 123.113281 51.058594 138.558594 51.058594 166.628906 Z M 51.058594 166.628906 "
                      fillOpacity="1"
                      fillRule="nonzero"
                    />
                  </g>
                  <path
                    fill="#1d1d1b"
                    d="M -752.163 -32.642 L -704.968 -32.642 L -704.968 140.682 L -750.409 140.682 L -753.202 118.936 C -764.726 137.175 -789.558 144.214 -806.335 144.542 C -858.074 144.897 -895.468 111.214 -895.468 54.007 C -895.468 -3.204 -855.968 -37.216 -804.941 -36.532 C -783.261 -36.532 -763.003 -28.095 -753.913 -12.677 L -752.163 -32.669 L -752.163 -32.642 Z M -845.156 54.034 C -845.156 82.815 -824.87 99.659 -799.714 99.659 C -771.406 99.659 -753.913 77.557 -753.913 55.784 C -753.913 30.866 -769.656 8.054 -799.714 8.054 C -824.87 8.054 -845.156 25.253 -845.156 54.034 Z M -845.156 54.034"
                    fillOpacity="1"
                    fillRule="nonzero"
                  />
                  <path
                    fill="#1d1d1b"
                    d="M -628.402 -32.286 L -624.57 -13.333 C -613.046 -29.466 -597.659 -36.505 -578.417 -36.505 C -561.991 -36.505 -548.359 -31.603 -536.124 -20.7 L -557.093 19.307 C -565.468 13.339 -574.23 10.546 -584.714 10.546 C -606.394 10.546 -624.925 24.565 -624.925 50.554 L -624.925 140.737 L -675.269 140.737 L -675.269 -32.286 L -628.402 -32.286 Z M -628.402 -32.286"
                    fillOpacity="1"
                    fillRule="nonzero"
                  />
                  <path
                    fill="#1d1d1b"
                    d="M -475.652 -78.595 C -475.652 -40.693 -532.976 -40.693 -532.976 -78.595 C -532.976 -116.497 -475.652 -116.497 -475.652 -78.595 Z M -529.472 -32.97 L -529.472 140.71 L -479.128 140.71 L -479.128 -32.97 L -529.472 -32.97 Z M -529.472 -32.97"
                    fillOpacity="1"
                    fillRule="nonzero"
                  />
                  <path
                    fill="#1d1d1b"
                    d="M -340.722 16.487 C -353.671 7.37 -365.878 3.862 -381.62 3.862 C -397.359 3.862 -406.449 9.835 -406.449 18.241 C -406.449 27.718 -397.718 32.975 -380.937 33.331 C -347.019 34.37 -306.12 41.409 -305.765 89.112 C -305.409 117.182 -326.378 147.362 -381.265 147.362 C -406.777 147.362 -433.003 142.46 -462.374 117.897 L -440.695 82.104 C -419.37 99.659 -398.757 103.518 -380.581 103.847 C -365.906 104.202 -354.355 98.233 -354.71 89.112 C -354.71 81.034 -360.652 74.382 -384.085 73.667 C -416.249 72.272 -456.437 58.936 -456.437 18.241 C -456.437 -22.454 -419.37 -37.544 -381.976 -37.544 C -355.394 -37.544 -334.07 -30.888 -315.894 -15.087 L -340.722 16.487 Z M -340.722 16.487"
                    fillOpacity="1"
                    fillRule="nonzero"
                  />
                  <path
                    fill="#1d1d1b"
                    d="M -220.109 -79.989 L -220.109 -31.575 L -176.421 -31.575 L -176.421 10.546 L -220.464 10.546 L -220.464 75.804 C -220.464 94.042 -210.339 98.972 -200.894 98.972 C -194.952 98.972 -185.507 97.577 -179.925 94.757 L -168.398 136.874 C -180.991 141.776 -191.12 143.886 -204.753 144.597 C -242.148 146.35 -270.48 129.862 -270.48 75.831 L -270.48 10.573 L -301.249 10.573 L -301.249 -31.548 L -270.48 -31.548 L -270.48 -74.349 L -220.136 -79.962 L -220.109 -79.989 Z M -220.109 -79.989"
                    fillOpacity="1"
                    fillRule="nonzero"
                  />
                  <path
                    fill="#1d1d1b"
                    d="M -21.534 -32.642 L 25.661 -32.642 L 25.661 140.682 L -19.784 140.682 L -22.574 118.936 C -34.101 137.175 -58.929 144.214 -75.71 144.542 C -127.449 144.897 -164.839 111.214 -164.839 54.007 C -164.839 -3.204 -125.339 -37.216 -74.284 -36.532 C -52.605 -36.532 -32.347 -28.095 -23.261 -12.677 L -21.507 -32.669 L -21.534 -32.642 Z M -114.527 54.034 C -114.527 82.815 -94.241 99.659 -69.085 99.659 C -40.781 99.659 -23.288 77.557 -23.288 55.784 C -23.288 30.866 -39.027 8.054 -69.085 8.054 C -94.241 8.054 -114.527 25.253 -114.527 54.034 Z M -114.527 54.034"
                    fillOpacity="1"
                    fillRule="nonzero"
                  />
                  <g
                    clipPath="url(#e93e22cbe6)"
                    transform="matrix(1, 0, 0, 1, -1096.870378, -116.102716)"
                  >
                    <path
                      fill="#28509e"
                      d="M 623.628906 38.601562 C 623.628906 39.644531 623.578125 40.683594 623.472656 41.71875 C 623.371094 42.757812 623.21875 43.785156 623.015625 44.804688 C 622.8125 45.828125 622.5625 46.835938 622.257812 47.832031 C 621.957031 48.828125 621.605469 49.808594 621.207031 50.769531 C 620.808594 51.734375 620.367188 52.671875 619.875 53.589844 C 619.382812 54.507812 618.847656 55.402344 618.269531 56.265625 C 617.691406 57.132812 617.074219 57.96875 616.414062 58.773438 C 615.753906 59.578125 615.054688 60.347656 614.320312 61.085938 C 613.582031 61.820312 612.8125 62.519531 612.007812 63.179688 C 611.203125 63.839844 610.367188 64.460938 609.503906 65.039062 C 608.636719 65.617188 607.746094 66.152344 606.828125 66.644531 C 605.910156 67.132812 604.96875 67.578125 604.007812 67.976562 C 603.046875 68.375 602.066406 68.726562 601.070312 69.027344 C 600.074219 69.332031 599.066406 69.582031 598.046875 69.785156 C 597.023438 69.988281 595.996094 70.144531 594.960938 70.246094 C 593.925781 70.347656 592.886719 70.398438 591.84375 70.398438 C 590.804688 70.398438 589.765625 70.347656 588.730469 70.246094 C 587.695312 70.144531 586.667969 69.988281 585.644531 69.785156 C 584.625 69.582031 583.617188 69.332031 582.621094 69.027344 C 581.625 68.726562 580.644531 68.375 579.683594 67.976562 C 578.722656 67.578125 577.78125 67.132812 576.863281 66.644531 C 575.945312 66.152344 575.054688 65.617188 574.1875 65.039062 C 573.324219 64.460938 572.488281 63.839844 571.683594 63.179688 C 570.878906 62.519531 570.109375 61.820312 569.371094 61.085938 C 568.636719 60.347656 567.9375 59.578125 567.277344 58.773438 C 566.617188 57.96875 566 57.132812 565.417969 56.265625 C 564.839844 55.402344 564.308594 54.507812 563.816406 53.589844 C 563.324219 52.671875 562.882812 51.734375 562.484375 50.769531 C 562.085938 49.808594 561.734375 48.828125 561.433594 47.832031 C 561.128906 46.835938 560.878906 45.828125 560.675781 44.804688 C 560.472656 43.785156 560.320312 42.757812 560.214844 41.71875 C 560.113281 40.683594 560.0625 39.644531 560.0625 38.601562 C 560.0625 37.5625 560.113281 36.523438 560.214844 35.488281 C 560.320312 34.449219 560.472656 33.421875 560.675781 32.402344 C 560.878906 31.378906 561.128906 30.371094 561.433594 29.375 C 561.734375 28.378906 562.085938 27.398438 562.484375 26.4375 C 562.882812 25.472656 563.324219 24.535156 563.816406 23.617188 C 564.308594 22.695312 564.839844 21.804688 565.417969 20.9375 C 566 20.074219 566.617188 19.238281 567.277344 18.433594 C 567.9375 17.628906 568.636719 16.859375 569.371094 16.121094 C 570.109375 15.386719 570.878906 14.6875 571.683594 14.027344 C 572.488281 13.367188 573.324219 12.746094 574.1875 12.167969 C 575.054688 11.589844 575.945312 11.054688 576.863281 10.5625 C 577.78125 10.074219 578.722656 9.628906 579.683594 9.230469 C 580.644531 8.832031 581.625 8.480469 582.621094 8.179688 C 583.617188 7.875 584.625 7.621094 585.644531 7.417969 C 586.667969 7.214844 587.695312 7.0625 588.730469 6.960938 C 589.765625 6.859375 590.804688 6.808594 591.84375 6.808594 C 592.886719 6.808594 593.925781 6.859375 594.960938 6.960938 C 595.996094 7.0625 597.023438 7.214844 598.046875 7.417969 C 599.066406 7.621094 600.074219 7.875 601.070312 8.179688 C 602.066406 8.480469 603.046875 8.832031 604.007812 9.230469 C 604.96875 9.628906 605.910156 10.074219 606.828125 10.5625 C 607.746094 11.054688 608.636719 11.589844 609.503906 12.167969 C 610.367188 12.746094 611.203125 13.367188 612.007812 14.027344 C 612.8125 14.6875 613.582031 15.386719 614.320312 16.121094 C 615.054688 16.859375 615.753906 17.628906 616.414062 18.433594 C 617.074219 19.238281 617.691406 20.074219 618.269531 20.9375 C 618.847656 21.804688 619.382812 22.695312 619.875 23.617188 C 620.367188 24.535156 620.808594 25.472656 621.207031 26.4375 C 621.605469 27.398438 621.957031 28.378906 622.257812 29.375 C 622.5625 30.371094 622.8125 31.378906 623.015625 32.402344 C 623.21875 33.421875 623.371094 34.449219 623.472656 35.488281 C 623.578125 36.523438 623.628906 37.5625 623.628906 38.601562 Z M 623.628906 38.601562 "
                      fillOpacity="1"
                      fillRule="nonzero"
                    />
                  </g>
                </svg>
              </div>
            </div> */}

          {!loadSplashScreen && pathname === "/" && <FooterBottom />}

          {/* <LangToggle /> */}
        </body>
      </html>
    </I18nextProvider>
  );
}
